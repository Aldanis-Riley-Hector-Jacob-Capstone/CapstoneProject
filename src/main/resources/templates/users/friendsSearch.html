<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <title>Friends Search</title>
    <th:block th:replace="~{/fragments/header.html :: header}"></th:block>
</head>
<body>
<th:block th:replace="~{/fragments/navbar.html :: navbar}"></th:block>


<!-- Main container -->
<div class="main-container">
    <!-- List container -->
    <div class="friends-list">
        <!-- List of names searched to add -->
        <ul class="list-group mt-3" style="clear: both;">
            <li class="list-group-item" th:each="item : ${friends}">
                <img style="border-radius: 50%;" width="40px" height="40px" alt="path_image" src="" th:src="'data:image/jpeg;base64,'+${item.getImageDataUrl()}"/>
                <span class="me-auto">
                    <strong th:if="${item.from.getUsername()} not ${me.getUsername()}" th:text="${item.from.getUsername()}"></strong>
                    <strong th:if="${item.to.getUsername()} not ${me.getUsername()}" th:text="${item.to.getUsername()}"></strong>
                </span>
                <i class="bi bi-trash3-fill deleteBtn btn btn-warning ms-auto" th:item="${item.getId()}"></i>
                <i class="bi bi-pencil-fill editBtn btn btn-light me-2 ms-auto" th:item="${item.getId()}"></i>
            </li>
            <li class="list-group-item" th:if="${friends.isEmpty()}">
                No friends yet, feel free to search for new friends and send them friend requests.
            </li>
        </ul>
    </div>

    <div class="form-container">
        <from th:action="@{/users/friends}" th:method="POST">
            <!--Filter for searching-->
            <div>
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="search" name="name" id="name">
                </div>
            </div>

            <!--Filter for point counts-->
            <fieldset>
                <legend>Select Points</legend>
                <div class="form-group">
                    <input type="checkbox" name="1to100" id="1to100">
                    <label for="1to100">1-100</label>
                </div>
                <div class="form-group">
                    <input type="checkbox" name="101to200" id="101to200">
                    <label for="101to200">101-200</label>
                </div>
                <div class="form-group">
                    <input type="checkbox" name="201to300" id="201to300">
                    <label for="201to300">201-300</label>
                </div>
            </fieldset>
            <button type="submit">Search for friends</button>
        </from>
    </div>
</div>

<div class="user-list-container">
    <ul class="user-list">
        <li class="user">User 1</li>
        <li class="user">User 2</li>
        <li class="user">User 3</li>
        <li class="user">User 1</li>
        <li class="user">User 2</li>
        <li class="user">User 3</li>
    </ul>
</div>

<footer class="footer">
    <th:block th:replace="~{/fragments/footer.html :: footer}"></th:block>
</footer>

<script>
    function updateValue() {
        document.getElementById("currentValue").innerHTML = document.getElementById("pointRange").value;
    }
</script>
</body>
</html>
