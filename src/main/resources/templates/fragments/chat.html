<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/html">

  <th:block th:fragment="main_chat">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <div id="main-chat" class="shadow-lg border">
      <input type="hidden" id="userid" th:value="${userid}"/>
      <th:block th:replace="~{fragments/header.html :: header}"/>
      <div id="incoming_messages"></div>
      <div class="chat_controls d-flex mb-2 ms-2 me-2 mt-0">
        <div class="col-8 pe-3">
          <textarea class="w-100 h-100" id="message" placeholder="Say something cool." required></textarea>
        </div>
        <div class="col-4 d-flex justify-content-center pe-3">
          <button id="send" type="submit" class="btn btn-primary w-100">
            <i class="bi bi-send"></i>
          </button>
        </div>
      </div>
    </div>
    <i id="chat_icon" class="bi bi-chat-right-heart-fill"></i>
    <script src="/js/chat.js" type="module" defer></script>
  </th:block>

</html>
